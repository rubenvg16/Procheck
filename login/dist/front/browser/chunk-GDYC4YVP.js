import{a as A}from"./chunk-DNMFUVI3.js";import{a as N,b as _,c as L,d as R,e as B,f as G,g as D,h as Y,i as j}from"./chunk-2TDRPH33.js";import"./chunk-2RZQ7SSK.js";import"./chunk-A6SJ6WFE.js";import{B as F,F as u,H as l,I as h,J as e,K as r,L as m,M,N as c,O as w,P as d,S as P,T as U,Y as I,Z as T,_ as V,ga as q,ha as z,m as b,o as C,p as v,q as S,r as k,w as E,x,y as i}from"./chunk-OKQLCJWR.js";import"./chunk-2NFLSA4Y.js";var O=n=>({"is-invalid":n}),H=(n,o)=>({"is-invalid":n,"is-valid":o});function $(n,o){if(n&1){let s=M();e(0,"div",40),d(1," El usuario ya existe. Por favor, utiliza otro correo electr\xF3nico. "),e(2,"button",41),c("click",function(){C(s);let a=w();return v(a.closeUserExistsError())}),r()()}}function Z(n,o){if(n&1&&(e(0,"div",42),m(1,"i",43)(2,"p",44),e(3,"a",45),d(4," Ir al inicio de sesi\xF3n \u2192 "),r()()),n&2){let s=w();i(2),l("innerHTML",s.formattedSuccessMessage,E)}}function J(n,o){n&1&&m(0,"div",46)}function K(n,o){n&1&&m(0,"img",47)}function Q(n,o){n&1&&m(0,"div",46)}function W(n,o){n&1&&m(0,"img",47)}function X(n,o){n&1&&m(0,"div",46)}function tt(n,o){n&1&&m(0,"img",47)}function et(n,o){n&1&&m(0,"div",46)}function nt(n,o){n&1&&m(0,"img",47)}function ot(n,o){n&1&&m(0,"div",48)}function it(n,o){if(n&1){let s=M();e(0,"div",49)(1,"div",50)(2,"div",51)(3,"div",52)(4,"h5",53),d(5,"Error de validaci\xF3n"),r(),e(6,"button",41),c("click",function(){C(s);let a=w();return v(a.closeAlert())}),r()(),e(7,"div",54)(8,"p"),d(9,"Las contrase\xF1as no coinciden. Por favor, verifique e intente nuevamente."),r()(),e(10,"div",55)(11,"button",56),c("click",function(){C(s);let a=w();return v(a.closeAlert())}),d(12,"Entendido"),r()()()()()}}var y=class n{_authService=b(A);_formBuilder=b(Y);_router=b(q);showPassword=!1;showRepeatPassword=!1;showAlert=!1;passwordsMatch=!0;userExistsError=!1;successMessage="";formattedSuccessMessage="";eyeIcon="assets/img/hide.svg";eyeIconSlash="assets/img/show.svg";eyeIconRepeat="assets/img/hide.svg";passwordValidator(){return o=>{let s=o.value;if(!s)return{required:!0};let t=/[A-Z]/.test(s),a=/[a-z]/.test(s),p=/[0-9]/.test(s),g=s.length>=8;return t&&a&&p&&g?null:{invalidPassword:!0}}}form=this._formBuilder.group({email:["",[_.required,_.email]],name:["",_.required],password:["",[_.required,this.passwordValidator()]],repeatPassword:["",_.required]},{validators:this.passwordsMatchValidator});passwordsMatchValidator(o){let s=o.get("password")?.value,t=o.get("repeatPassword")?.value;return!s||!t||s===t?null:{passwordsMismatch:!0}}togglePassword(){this.showPassword=!this.showPassword,this.eyeIcon=this.showPassword?"assets/img/show.svg":"assets/img/hide.svg"}toggleRepeatPassword(){this.showRepeatPassword=!this.showRepeatPassword,this.eyeIconRepeat=this.showRepeatPassword?"assets/img/show.svg":"assets/img/hide.svg"}passwordFocused=!1;onPasswordFocus(){this.passwordFocused=!0}onPasswordBlur(){setTimeout(()=>{this.passwordFocused=!1},200)}checkPasswordsMatch(){let o=this.form.get("password")?.value,s=this.form.get("repeatPassword")?.value;o&&s&&(this.passwordsMatch=o===s,this.form.updateValueAndValidity())}closeAlert(){this.showAlert=!1}closeUserExistsError(){this.userExistsError=!1}submit(){if(this.form.invalid){Object.keys(this.form.controls).forEach(g=>{this.form.get(g)?.markAsTouched()});let a=this.form.get("password")?.value,p=this.form.get("repeatPassword")?.value;a!==p&&(this.showAlert=!0);return}this.userExistsError=!1;let{email:o,name:s,password:t}=this.form.getRawValue();this._authService.signUp(o,s,t).subscribe({next:a=>{if(!a?.access_token){this.successMessage=`Se ha enviado un correo de verificaci\xF3n a ${o}`;let p=o.split("@");this.formattedSuccessMessage=`Se ha enviado un correo de verificaci\xF3n a <strong>${p[0]}@${p[1]}</strong>`,this.form.reset()}},error:a=>{a?.status===400&&a?.error?.message==="El usuario ya existe"&&(this.userExistsError=!0)}})}get hasUppercase(){return/[A-Z]/.test(this.form.get("password")?.value||"")}get hasLowercase(){return/[a-z]/.test(this.form.get("password")?.value||"")}get hasNumber(){return/[0-9]/.test(this.form.get("password")?.value||"")}get hasMinLength(){return(this.form.get("password")?.value||"").length>=8}static \u0275fac=function(s){return new(s||n)};static \u0275cmp=F({type:n,selectors:[["app-sign-up"]],decls:74,vars:41,consts:[[1,"position-relative","min-vh-100","d-flex","justify-content-center","align-items-center"],[1,"card","shadow","border-0",2,"border-radius","20px","width","auto","max-width","750px","padding-top","0.5rem","padding-bottom","0.5rem"],[1,"row","g-0","align-items-center"],[1,"col-auto","text-center","px-5","py-2"],[1,"bartolome-logo-animated"],["src","/assets/img/Logo.png","alt","Logo Bartolome",1,"logo-img"],[1,"col","px-5","py-2"],[1,"fw-bold","mb-4","text-center",2,"font-size","1.6rem","color","black"],["class","alert alert-danger alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-success text-center mb-4",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"d-flex","align-items-center","mb-2"],["src","assets/img/mail.svg","alt","Correo",2,"width","20px","margin-right","8px"],[1,"form-label","m-0"],["type","email","formControlName","email","placeholder","example@gmail.com",1,"form-control","border-bottom-only",3,"ngClass"],["src","assets/img/user.svg","alt","Usuario",2,"width","20px","margin-right","8px"],["type","text","formControlName","name","placeholder","Juan P\xE9rez",1,"form-control","border-bottom-only",3,"ngClass"],["src","assets/img/password.svg","alt","Contrase\xF1a",2,"width","20px","margin-right","8px"],[1,"position-relative"],["formControlName","password","placeholder","********",1,"form-control","border-bottom-only","password-input",3,"focus","blur","input","type","ngClass"],["alt","Mostrar contrase\xF1a",1,"eye-icon",3,"click","src"],[1,"password-requirements"],[1,"requirement",2,"--index","0"],["class","bullet",4,"ngIf"],["src","assets/img/success.svg",4,"ngIf"],[1,"requirement",2,"--index","1"],[1,"requirement",2,"--index","2"],[1,"requirement",2,"--index","3"],["formControlName","repeatPassword","placeholder","********",1,"form-control","border-bottom-only","password-input",3,"input","type","ngClass"],["type","submit",1,"btn","btn-primary","w-100","mb-3","btn-pill",3,"disabled"],[1,"text-center","mb-0"],["routerLink","/auth/sign-in",1,"link","text-decoration-none","fw-bold"],[2,"position","absolute","bottom","0","left","0","width","100%","z-index","-1"],[0,"xlink","href","assets/img/fondo.svg#fondo"],["class","modal-backdrop fade show","style","z-index: 1050;",4,"ngIf"],["class","modal fade show d-block","tabindex","-1","style","z-index: 1060;",4,"ngIf"],[1,"fondo-olas"],[1,"imagenFondo","imagenFondo-secundaria"],[1,"imagenFondo"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["type","button",1,"btn-close",3,"click"],[1,"alert","alert-success","text-center","mb-4"],[1,"fas","fa-check-circle","mb-2",2,"font-size","24px"],[1,"mb-2",3,"innerHTML"],["routerLink","/auth/log-in",1,"btn","btn-link","btn-pill","px-4","py-2"],[1,"bullet"],["src","assets/img/success.svg"],[1,"modal-backdrop","fade","show",2,"z-index","1050"],["tabindex","-1",1,"modal","fade","show","d-block",2,"z-index","1060"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(s,t){if(s&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),m(5,"img",5),r()(),e(6,"div",6)(7,"h2",7),d(8,"Registro"),r(),u(9,$,3,0,"div",8)(10,Z,5,1,"div",9),e(11,"form",10),c("ngSubmit",function(){return t.submit()}),e(12,"div",11)(13,"div",12),m(14,"img",13),e(15,"label",14),d(16,"Correo electr\xF3nico"),r()(),m(17,"input",15),r(),e(18,"div",11)(19,"div",12),m(20,"img",16),e(21,"label",14),d(22,"Nombre y apellidos"),r()(),m(23,"input",17),r(),e(24,"div",11)(25,"div",12),m(26,"img",18),e(27,"label",14),d(28,"Contrase\xF1a"),r()(),e(29,"div",19)(30,"input",20),c("focus",function(){return t.onPasswordFocus()})("blur",function(){return t.onPasswordBlur()})("input",function(){return t.checkPasswordsMatch()}),r(),e(31,"img",21),c("click",function(){return t.togglePassword()}),r()()(),e(32,"div",22)(33,"div",23),u(34,J,1,0,"div",24)(35,K,1,0,"img",25),e(36,"span"),d(37,"May\xFAscula"),r()(),e(38,"div",26),u(39,Q,1,0,"div",24)(40,W,1,0,"img",25),e(41,"span"),d(42,"Min\xFAscula"),r()(),e(43,"div",27),u(44,X,1,0,"div",24)(45,tt,1,0,"img",25),e(46,"span"),d(47,"N\xFAmero"),r()(),e(48,"div",28),u(49,et,1,0,"div",24)(50,nt,1,0,"img",25),e(51,"span"),d(52,"Al menos 8 caracteres"),r()()(),e(53,"div",11)(54,"div",12),m(55,"img",18),e(56,"label",14),d(57,"Repetir contrase\xF1a"),r()(),e(58,"div",19)(59,"input",29),c("input",function(){return t.checkPasswordsMatch()}),r(),e(60,"img",21),c("click",function(){return t.toggleRepeatPassword()}),r()()(),e(61,"button",30),d(62,"Registrarte"),r(),e(63,"p",31),d(64," \xBFYa tienes cuenta? "),e(65,"a",32),d(66,"Inicia sesi\xF3n aqu\xED"),r()()()()()(),S(),e(67,"svg",33),m(68,"use",34),r()(),u(69,ot,1,0,"div",35)(70,it,13,0,"div",36),k(),e(71,"div",37),m(72,"div",38)(73,"div",39),r()),s&2){let a,p,g,f;i(9),l("ngIf",t.userExistsError),i(),l("ngIf",t.successMessage),i(),l("formGroup",t.form),i(6),l("ngClass",P(32,O,((a=t.form.get("email"))==null?null:a.invalid)&&((a=t.form.get("email"))==null?null:a.touched))),i(6),l("ngClass",P(34,O,((p=t.form.get("name"))==null?null:p.invalid)&&((p=t.form.get("name"))==null?null:p.touched))),i(7),l("type",t.showPassword?"text":"password")("ngClass",P(36,O,((g=t.form.get("password"))==null?null:g.invalid)&&((g=t.form.get("password"))==null?null:g.touched))),i(),l("src",t.eyeIcon,x),i(),h("visible",t.passwordFocused),i(),h("satisfied",t.hasUppercase),i(),l("ngIf",!t.hasUppercase),i(),l("ngIf",t.hasUppercase),i(3),h("satisfied",t.hasLowercase),i(),l("ngIf",!t.hasLowercase),i(),l("ngIf",t.hasLowercase),i(3),h("satisfied",t.hasNumber),i(),l("ngIf",!t.hasNumber),i(),l("ngIf",t.hasNumber),i(3),h("satisfied",t.hasMinLength),i(),l("ngIf",!t.hasMinLength),i(),l("ngIf",t.hasMinLength),i(9),l("type",t.showRepeatPassword?"text":"password")("ngClass",U(38,H,((f=t.form.get("repeatPassword"))==null?null:f.touched)&&!t.passwordsMatch,((f=t.form.get("repeatPassword"))==null?null:f.value)&&t.passwordsMatch)),i(),l("src",t.eyeIconRepeat,x),i(),l("disabled",!t.form.valid),i(8),l("ngIf",t.showAlert),i(),l("ngIf",t.showAlert)}},dependencies:[V,I,T,z,j,B,N,L,R,G,D],styles:["body[_ngcontent-%COMP%]{background:linear-gradient(to right,#fefefe,#f5f7f8);min-height:100vh;position:relative}.wave[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;z-index:-1}.login-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 8px 20px #0000001a}.card[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.col-auto.text-center.px-5.py-5[_ngcontent-%COMP%], .col-auto.text-center.px-4.py-3[_ngcontent-%COMP%], .col-auto.text-center.px-5.py-2[_ngcontent-%COMP%], .col.px-5.py-5[_ngcontent-%COMP%], .col.px-4.py-3[_ngcontent-%COMP%], .col.px-5.py-2[_ngcontent-%COMP%]{padding:.7rem 2rem!important}.col-auto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px!important;width:100%!important}.form-control[_ngcontent-%COMP%]{border:0;border-bottom:2px solid lightgray;border-radius:0;transition:border-bottom-color .7s ease}.form-control[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none;border-bottom-color:#00adef}.is-invalid[_ngcontent-%COMP%]{border-bottom-color:red!important}.is-valid[_ngcontent-%COMP%]{border-bottom-color:#28a745!important}.password-input.is-invalid[_ngcontent-%COMP%], .password-input.is-valid[_ngcontent-%COMP%]{background-image:none!important}.password-requirements[_ngcontent-%COMP%]{margin-top:8px;padding:10px;overflow:hidden;max-height:0;opacity:0;transition:max-height .3s ease-in-out,opacity .3s ease-in-out,margin-top .3s ease-in-out}.password-requirements.visible[_ngcontent-%COMP%]{max-height:150px;opacity:1}.requirement[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:5px;transform:translateY(10px);opacity:0;transition:transform .3s ease,opacity .3s ease;transition-delay:calc(var(--index) * .05s)}.password-requirements.visible[_ngcontent-%COMP%]   .requirement[_ngcontent-%COMP%]{transform:translateY(0);opacity:1}.requirement.satisfied[_ngcontent-%COMP%]{color:#28a745}.requirement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;margin-right:8px}.bullet[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background-color:#aaa;margin-right:8px}label[_ngcontent-%COMP%]{font-family:Montserrat-Bold,sans-serif;color:#000}.btn-pill[_ngcontent-%COMP%]{border-radius:50px;background-color:#00adef;color:#fff;border:2px solid transparent;transition:background-color .35s,border-color .2s,color .2s}.btn-pill[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.btn-pill[_ngcontent-%COMP%]:active{background-color:#333;border-color:gray;color:#fff}.btn-primary[_ngcontent-%COMP%]{background-color:#00adef!important;color:#fff!important;border:2px solid transparent;transition:background-color .35s,border-color .2s,color .2s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#000!important;color:#fff!important}.btn-primary[_ngcontent-%COMP%]:active{background-color:#333!important;border-color:gray!important;color:#fff!important}.btn[_ngcontent-%COMP%]:disabled{opacity:.65;cursor:not-allowed}.modal-backdrop[_ngcontent-%COMP%]{background-color:#00000080}.modal.fade.show[_ngcontent-%COMP%]{opacity:1}.eye-icon[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);cursor:pointer;width:20px}.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;border-color:#c3e6cb;color:#155724;border-radius:10px;padding:15px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in}.alert-success[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:#d4edda!important;color:#155724!important;border-radius:50px;border:1px solid #c3e6cb;font-weight:600;transition:background .2s,color .2s}.alert-success[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{background-color:#b2dfbc!important;color:#0b2e13!important}.alert-success[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#0b2e13}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.bartolome-logo-animated[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.bartolome-svg[_ngcontent-%COMP%]{opacity:0;transform:scale(.8);animation:_ngcontent-%COMP%_logo-appear 1.2s cubic-bezier(.23,1,.32,1) forwards}@keyframes _ngcontent-%COMP%_logo-appear{to{opacity:1;transform:scale(1)}}.bartolome-path[_ngcontent-%COMP%]{stroke:#000;stroke-width:8;fill:transparent;stroke-dasharray:14534.7;stroke-dashoffset:14534.7;animation:_ngcontent-%COMP%_logo-draw 2.2s ease forwards,_ngcontent-%COMP%_logo-fill 1.2s ease forwards 2.2s}@keyframes _ngcontent-%COMP%_logo-draw{0%{stroke-dashoffset:14534.7;fill:transparent}to{stroke-dashoffset:0;fill:transparent}}@keyframes _ngcontent-%COMP%_logo-fill{0%{fill:transparent}to{fill:#000}}.logo-img[_ngcontent-%COMP%]{max-width:150px;width:100%;height:auto;display:block}@media (max-width: 768px){.logo-img[_ngcontent-%COMP%]{max-width:140px!important;width:100%!important;height:auto!important}}@media (max-width: 480px){.logo-img[_ngcontent-%COMP%]{max-width:100px!important;width:100%!important;height:auto!important}}@media (max-width: 768px){html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{overflow:hidden!important;height:100vh!important;touch-action:none}.card[_ngcontent-%COMP%]{border-radius:12px!important;margin:0 8px;padding-top:.5rem!important;padding-bottom:.5rem!important;box-shadow:none!important}.row.g-0[_ngcontent-%COMP%]{flex-direction:column!important;align-items:stretch!important}.col-auto.text-center.px-5.py-5[_ngcontent-%COMP%], .col-auto.text-center.px-4.py-3[_ngcontent-%COMP%], .col-auto.text-center.px-5.py-2[_ngcontent-%COMP%]{padding:.3rem 1rem!important;text-align:center!important}.col.px-5.py-5[_ngcontent-%COMP%], .col.px-4.py-3[_ngcontent-%COMP%], .col.px-5.py-2[_ngcontent-%COMP%]{padding:.7rem 1rem!important}.col-auto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:120px!important;width:90%!important}.bartolome-logo-animated[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .bartolome-svg[_ngcontent-%COMP%]{width:100px!important;height:100px!important}.btn[_ngcontent-%COMP%], .btn-pill[_ngcontent-%COMP%]{font-size:1rem!important}.fondo-olas[_ngcontent-%COMP%], .imagenFondo[_ngcontent-%COMP%], .imagenFondo-secundaria[_ngcontent-%COMP%]{height:80px!important;display:none!important}.password-requirements[_ngcontent-%COMP%]{font-size:.95rem}.logo-img[_ngcontent-%COMP%]{max-width:140px!important;width:100%!important;height:auto!important}}@media (max-width: 480px){html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{overflow:hidden!important;height:100vh!important;touch-action:none}.card[_ngcontent-%COMP%]{border-radius:0!important;margin:0;padding-top:.5rem!important;padding-bottom:.5rem!important;box-shadow:none!important}.col-auto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px!important}.col.px-5.py-5[_ngcontent-%COMP%], .col.px-4.py-3[_ngcontent-%COMP%], .col.px-5.py-2[_ngcontent-%COMP%]{padding:.15rem .2rem!important}.col-auto.text-center.px-5.py-5[_ngcontent-%COMP%], .col-auto.text-center.px-4.py-3[_ngcontent-%COMP%], .col-auto.text-center.px-5.py-2[_ngcontent-%COMP%]{padding:.15rem .2rem!important;text-align:center!important}.bartolome-logo-animated[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .bartolome-svg[_ngcontent-%COMP%]{width:70px!important;height:70px!important}.btn[_ngcontent-%COMP%], .btn-pill[_ngcontent-%COMP%]{font-size:.95rem!important}.fondo-olas[_ngcontent-%COMP%], .imagenFondo[_ngcontent-%COMP%], .imagenFondo-secundaria[_ngcontent-%COMP%]{height:50px!important;display:none!important}.password-requirements[_ngcontent-%COMP%]{font-size:.9rem}.logo-img[_ngcontent-%COMP%]{max-width:100px!important;width:100%!important;height:auto!important}}@media (max-width: 575px){.card[_ngcontent-%COMP%]{max-width:100vw!important;width:100vw!important;border-radius:0!important;padding-left:0!important;padding-right:0!important}.card[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .col-auto[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{padding-left:1rem!important;padding-right:1rem!important}.col-auto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;max-width:90px!important;width:100%}}@media (min-width: 576px) and (max-width: 991px){.card[_ngcontent-%COMP%]{max-width:95vw!important;width:95vw!important;border-radius:16px!important;margin:0 auto;padding-left:1.5rem!important;padding-right:1.5rem!important}.col-auto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:140px!important;width:100%!important}.col[_ngcontent-%COMP%], .col-auto[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%]{padding-left:1.5rem!important;padding-right:1.5rem!important}}"]})};export{y as default};
