import{h as I}from"./chunk-2TDRPH33.js";import{a as E}from"./chunk-A6SJ6WFE.js";import{$ as D,A as u,B as m,L as f,U as v,ba as w,c as p,ca as S,da as b,f as _,fa as P,ga as c,ia as y,j as g,ja as R,m as s}from"./chunk-OKQLCJWR.js";import"./chunk-2NFLSA4Y.js";var o=class t{_storageService=s(E);signOut(){this._storageService.remove("session")}getSession(){let e=null,i=this._storageService.get("session");return i!==null&&(this._isValidSession(i)?e=i:this.signOut()),e}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e}static \u0275fac=function(i){return new(i||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})};var x=()=>()=>{let t=s(o),e=s(c);return t.getSession()?(e.navigateByUrl("/dashboard"),!1):!0};var C=[{path:"auth",canActivate:[x()],runGuardsAndResolvers:"always",loadChildren:()=>import("./chunk-TIFGG3BF.js")},{path:"login/succes/:jwt",loadComponent:()=>import("./chunk-D5PSFW57.js").then(t=>t.LogInSuccesComponent)},{path:"**",runGuardsAndResolvers:"always",redirectTo:"auth/log-in"}];var T=(t,e)=>{let i=s(o),n=s(c),r=i.getSession();return t=t.clone({setHeaders:{Authorization:`Bearer ${r?.access_token}`}}),e(t).pipe(_(a=>(a instanceof D&&a.status===401&&(i.signOut(),n.navigateByUrl("/auth/log-in")),p(()=>a))))};var k={providers:[v({eventCoalescing:!0}),y(C,R({onSameUrlNavigation:"reload"})),w(S([T]))]};function L(t,e,i){let n=O(e,t.length-1),r=O(i,t.length-1);if(n===r)return;let a=t[n],d=r<n?-1:1;for(let l=n;l!==r;l+=d)t[l]=t[l+d];t[r]=a}function O(t,e){return Math.max(0,Math.min(e,t))}var h=class t{constructor(e){this.fb=e;this.myForm=this.fb.group({nombre:[""],local:[""]})}myForm;entradas=[{tipo:"asd",nombre:"asd"},{tipo:"asdd",nombre:"asdd"},{tipo:"asd1",nombre:"asd1"}];addEntrada(){this.entradas.push({tipo:"",nombre:""})}removeEntrada(e){this.entradas.splice(e,1)}drop(e){L(this.entradas,e.previousIndex,e.currentIndex)}static \u0275fac=function(i){return new(i||t)(u(I))};static \u0275cmp=m({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(i,n){i&1&&f(0,"router-outlet")},dependencies:[P],encapsulation:2})};b(h,k).catch(t=>console.error(t));
